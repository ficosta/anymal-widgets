<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Anymal Soccer Widgets</title>
    <link rel="stylesheet" href="./theme.css">
    <script type="module" src="../dist/widget.js"></script>
</head>
<body>
    <anymal-widget
        data-type="config"
        data-key="Anymal"
        data-sport="football"
        data-custom-lang="../src/i18n/ptbr.json"
        data-theme="anymal"
    ></anymal-widget>

    <anymal-widget
        data-type="games"
        data-date="2025-12-10"
        data-country="World"
        data-refresh="15"
        data-show-toolbar="true"
        data-tab="all"
    ></anymal-widget>



    <anymal-widget data-type="games" data-league="13" data-season="2025" data-date="2025-11-30" lang="pt" data-key="Anymal" data-sport="football" data-country="Brazil" data-timezone="America/Sao_Paulo" data-theme="anymal" data-custom-lang="../wp-content/themes/Newspaper-child/assets/json/ptbr-mobile.json" class="initialized">

    </anymal-widget>

    <script>
        // Intercepta cliques nos jogos e redireciona para game.html
        document.addEventListener('click', function(event) {
            console.log('Click detectado em:', event.target);

            // Procura o elemento clicado ou seus pais que contêm data-game-id
            let target = event.target;
            let gameId = null;

            // Sobe na árvore DOM até encontrar um elemento com data-id (game-item)
            while (target && target !== document.body) {
                console.log('Verificando elemento:', target);
                console.log('Atributos:', target.attributes);
                console.log('Dataset:', target.dataset);

                // Verifica se é um game-item com data-id
                if (target.tagName === 'GAME-ITEM' && target.dataset && target.dataset.id) {
                    gameId = target.dataset.id;
                    console.log('GameID encontrado via dataset.id:', gameId);
                    break;
                }
                // Também tenta data-game-id para compatibilidade
                if (target.hasAttribute && target.hasAttribute('data-game-id')) {
                    gameId = target.getAttribute('data-game-id');
                    console.log('GameID encontrado via data-game-id:', gameId);
                    break;
                }
                target = target.parentElement;
            }

            // Se encontrou um ID de jogo, redireciona
            if (gameId) {
                console.log('Redirecionando para game.html?id=' + gameId);
                event.preventDefault();
                window.location.href = `game.html?id=${gameId}`;
            } else {
                console.log('Nenhum GameID encontrado neste clique');
            }
        });
    </script>
</body>
</html>
